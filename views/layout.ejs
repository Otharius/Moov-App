<html lang="fr">
<title><%= title %></title>
<head>
    <link href="/css/computer.css" media="(min-width: 768px)" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/mobil.css" media="(max-width: 480px)" type="text/css">
    
    <meta name="viewport" content="width=device-width"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
</head>

<body>
  <% if(style){ %>
    <div class="topnav">
      <a href="/workout/training" class="nav_second">
          <svg xmlns="http://www.w3.org/2000/svg" class="svg"  viewBox="0 0 22 22" stroke-width="2" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <line x1="15" y1="9" x2="9" y2="15"></line>
              <line x1="10" y1="12" x2="12" y2="14"></line>
              <line x1="12" y1="10" x2="14" y2="12"></line>
              <path d="M8 21a5 5 0 0 0 -5 -5"></path>
              <path d="M16 3c-7.18 0 -13 5.82 -13 13a5 5 0 0 0 5 5c7.18 0 13 -5.82 13 -13a5 5 0 0 0 -5 -5"></path>
              <path d="M16 3a5 5 0 0 0 5 5"></path>
          </svg>
      </a>
  
      <a href="/meal_sleep/sleep" class="nav_second">
          <svg xmlns="http://www.w3.org/2000/svg" class="svg color" viewBox="0 0 16 16">
              <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
          </svg>
      </a>
  
      <a href="/home/home" class="nav_home">
          <svg viewBox="0 0 576 512"class="svg color">
              <path class="home" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z" />
          </svg>
      </a>
  
      <a href="/meal_sleep/meal" class="nav_second">
          <svg xmlns="http://www.w3.org/2000/svg" class="svg" viewBox="0 0 22 22" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M17.536 3.393c3.905 3.906 3.905 10.237 0 14.143c-3.906 3.905 -10.237 3.905 -14.143 0l14.143 -14.143"></path>
              <path d="M5.868 15.06a6.5 6.5 0 0 0 9.193 -9.192"></path>
              <path d="M10.464 10.464l4.597 4.597"></path>
              <path d="M10.464 10.464v6.364"></path>
              <path d="M10.464 10.464h6.364"></path>
          </svg>
      </a>
  
      <a href="/profiles/profiles" class="nav_second">
          <svg xmlns="http://www.w3.org/2000/svg" class="svg color" viewBox="0 0 16 16">
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
              <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
          </svg>
      </a>
    </div>
<% }%>

  <%- body %>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
<script>


// Ouvre une popup sur la page d'entrainement    

  const modal1 = document.getElementById("myModal");
  const dialog = document.getElementById("dialog");
  const btn = document.getElementById("myBtn");
  const span = document.getElementsByClassName("training_close")[0];

  btn.onclick = function() {

    modal1.style.display = "block";
    dialog.style.display = "block";

  }

  span.onclick = function() {
    modal1.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target == modal1 || event.target == modal2 || event.target == modal3) {
      modal1.style.display = "none";
      modal2.style.display = "none";
      modal3.style.display = "none";
    }
  } 


  // Ouvre une popup sur la page pour voir tt les entrainements possibles    

  const modal2 = document.getElementById("mySecondModal");
  const button = document.getElementById("See_exercice");
  const Close = document.getElementsByClassName("training_close")[1];

  button.onclick = function() {
    modal2.style.display = "block";
  }

  Close.onclick = function() {
    modal2.style.display = "none";
  }


// Ouvre une popup pour voir le degrès d'intensité

  const modal3 = document.getElementById("myThirdModal");
  const Button = document.getElementById("See_intensity");
  const close = document.getElementsByClassName("training_close")[2];

  Button.onclick = function() {

    modal3.style.display = "block";
  }

  close.onclick = function() {
    modal3.style.display = "none";
  }

// Gère la création d'exercice 
    const addExercice = document.querySelector(".addExercice") 
    exercice = [document.querySelector(".content_exercice"),document.querySelector(".content_exercice2"),document.querySelector(".content_exercice3"),document.querySelector(".content_exercice4"),document.querySelector(".content_exercice5")];
    deleteEx = [document.getElementById("deleteEx2"),document.getElementById("deleteEx3"),document.getElementById("deleteEx4"),document.getElementById("deleteEx5")]
    i = 0
    
    addExercice.addEventListener("click", () => {
      if (i == 0){
        exercice[1].style.display = "block"
      };
      if (i == 1){
        exercice[2].style.display = "block"
      }
      if (i == 2){
        exercice[3].style.display = "block"
      }
      if (i == 3){
        exercice[4].style.display = "block"
      }
      i = i + 1
    })

    deleteEx[0].addEventListener("click", () => {
      if (i == 1){
        exercice[1].style.display = "none"
      };
      if (i == 2){
        exercice[2].style.display = "none"
      }
      if (i == 3){
        exercice[3].style.display = "none"
      }
      if (i == 4){
        exercice[4].style.display = "none"
      }
      i = i - 1
    });

    deleteEx[1].addEventListener("click", () => {
      if (i == 1){
        exercice[1].style.display = "none"
      };
      if (i == 2){
        exercice[2].style.display = "none"
      }
      if (i == 3){
        exercice[3].style.display = "none"
      }
      if (i == 4){
        exercice[4].style.display = "none"
      }
      i = i - 1
    });

    deleteEx[2].addEventListener("click", () => {
      if (i == 1){
        exercice[1].style.display = "none"
      };
      if (i == 2){
        exercice[2].style.display = "none"
      };
      if (i == 3){
        exercice[3].style.display = "none"
      };
      if (i == 4){
        exercice[4].style.display = "none"
      };
      i = i - 1
    });

    deleteEx[3].addEventListener("click", () => {
      if (i == 1){
        exercice[1].style.display = "none"
      };
      if (i == 2){
        exercice[2].style.display = "none"
      };
      if (i == 3){
        exercice[3].style.display = "none"
      };
      if (i == 4){
        exercice[4].style.display = "none"
      };
      i = i - 1
    })

  


// Fin de la gestion de création d'exercice

// Gère la sélection du choix de l'exercice

  let selected = document.querySelector(".selected");
  let optionsContainer = document.querySelector(".options-container");
  let searchBox = document.querySelector(".search-box input");
  let optionsList = document.querySelectorAll(".option");

  selected.addEventListener("click", () => {
  optionsContainer.classList.toggle("active");
  searchBox.value = "";
  ilterList("");

  if (optionsContainer.classList.contains("active")) {
    searchBox.focus();
    }
  });


  optionsList.forEach(o => {
    o.addEventListener("click", () => {
      selected.innerHTML = o.querySelector("label").innerHTML;
      optionsContainer.classList.remove("active");
      document.getElementById('exerciceChoice').value = selected.innerHTML
    });
  });

  searchBox.addEventListener("keyup", function(e) {
    filterList(e.target.value);
  });

  const filterList = searchTerm => {
    searchTerm = searchTerm.toLowerCase();
    optionsList.forEach(option => {
      let label = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
      if (label.indexOf(searchTerm) != -1) {
        option.style.display = "block";
      } else {
        option.style.display = "none";
      }
    });
  };



  let selected2 = document.querySelector(".selected2");
  let optionsContainer2 = document.querySelector(".options-container2");
  let searchBox2 = document.querySelector(".search-box2 input");
  let optionsList2 = document.querySelectorAll(".option2");

  selected2.addEventListener("click", () => {
  optionsContainer2.classList.toggle("active");
  searchBox2.value = "";
  ilterList2("");

  if (optionsContainer2.classList.contains("active")) {
    searchBox2.focus();
    }
  });


  optionsList2.forEach(o => {
    o.addEventListener("click", () => {
      selected2.innerHTML = o.querySelector("label").innerHTML;
      optionsContainer2.classList.remove("active");
      document.getElementById('exerciceChoice2').value = selected2.innerHTML
    });
  });

  searchBox2.addEventListener("keyup", function(e) {
    filterList2(e.target.value);
  });

  const filterList2 = searchTerm => {
    searchTerm = searchTerm.toLowerCase();
    optionsList2.forEach(option => {
      let label2 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
      if (label2.indexOf(searchTerm) != -1) {
        option.style.display = "block";
      } else {
        option.style.display = "none";
      }
    });
  };


  let selected3 = document.querySelector(".selected3");
  let optionsContainer3 = document.querySelector(".options-container3");
  let searchBox3 = document.querySelector(".search-box3 input");
  let optionsList3 = document.querySelectorAll(".option3");

  selected3.addEventListener("click", () => {
  optionsContainer3.classList.toggle("active");
  searchBox3.value = "";
  ilterList3("");

  if (optionsContainer3.classList.contains("active")) {
    searchBox3.focus();
    }
  });


  optionsList3.forEach(o => {
    o.addEventListener("click", () => {
      selected3.innerHTML = o.querySelector("label").innerHTML;
      optionsContainer3.classList.remove("active");
      document.getElementById('exerciceChoice3').value = selected3.innerHTML
    });
  });

  searchBox3.addEventListener("keyup", function(e) {
    filterList3(e.target.value);
  });

  const filterList3 = searchTerm => {
    searchTerm = searchTerm.toLowerCase();
    optionsList3.forEach(option => {
      let label3 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
      if (label3.indexOf(searchTerm) != -1) {
        option.style.display = "block";
      } else {
        option.style.display = "none";
      }
    });
  };


  let selected4 = document.querySelector(".selected4");
  let optionsContainer4 = document.querySelector(".options-container4");
  let searchBox4 = document.querySelector(".search-box4 input");
  let optionsList4 = document.querySelectorAll(".option4");

  selected4.addEventListener("click", () => {
  optionsContainer4.classList.toggle("active");
  searchBox4.value = "";
  ilterList4("");

  if (optionsContainer4.classList.contains("active")) {
    searchBox4.focus();
    }
  });


  optionsList4.forEach(o => {
    o.addEventListener("click", () => {
      selected4.innerHTML = o.querySelector("label").innerHTML;
      optionsContainer4.classList.remove("active");
      document.getElementById('exerciceChoice4').value = selected4.innerHTML
    });
  });

  searchBox4.addEventListener("keyup", function(e) {
    filterList4(e.target.value);
  });

  const filterList4 = searchTerm => {
    searchTerm = searchTerm.toLowerCase();
    optionsList4.forEach(option => {
      let label4 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
      if (label4.indexOf(searchTerm) != -1) {
        option.style.display = "block";
      } else {
        option.style.display = "none";
      }
    });
  };


  let selected5 = document.querySelector(".selected5");
  let optionsContainer5 = document.querySelector(".options-container5");
  let searchBox5 = document.querySelector(".search-box5 input");
  let optionsList5 = document.querySelectorAll(".option5");

  selected5.addEventListener("click", () => {
  optionsContainer5.classList.toggle("active");
  searchBox5.value = "";
  ilterList5("");

  if (optionsContainer5.classList.contains("active")) {
    searchBox5.focus();
    }
  });


  optionsList5.forEach(o => {
    o.addEventListener("click", () => {
      selected5.innerHTML = o.querySelector("label").innerHTML;
      optionsContainer5.classList.remove("active");
      document.getElementById('exerciceChoice5').value = selected5.innerHTML
    });
  });

  searchBox5.addEventListener("keyup", function(e) {
    filterList5(e.target.value);
  });

  const filterList5 = searchTerm => {
    searchTerm = searchTerm.toLowerCase();
    optionsList5.forEach(option => {
      let label5 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
      if (label5.indexOf(searchTerm) != -1) {
        option.style.display = "block";
      } else {
        option.style.display = "none";
      }
    });
  };


  $( function() {
    $( "#dialog" ).dialog();
  } );
</script>
</html>
