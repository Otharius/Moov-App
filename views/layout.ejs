<html lang="fr">
<head>
    <link href="/css/computer.css" media="(min-width: 768px)" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/mobil.css" media="(max-width: 480px)" type="text/css">
    <meta name="viewport" content="width=device-width"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
</head>

<body>
<%- body %>
</body>
<script>
    
    function savePseudo() {
        pseudo = document.getElementById('pseudo').value;
        localStorage.setItem('pseudo', pseudo);
    }

    function appendPseudo() {
        const pseudo = localStorage.getItem('pseudo');

        document.getElementById('pseudo').setAttribute('value', pseudo);
        document.getElementById('logoutPseudo').setAttribute('value', pseudo);
    }

    function mealAppendPseudo() {
        const pseudo = localStorage.getItem('pseudo');

        document.getElementById('ok_count_calorie').setAttribute('value', pseudo);
        document.getElementById('reset_count_calorie').setAttribute('value', pseudo);
    }

    function trainingAppendPseudo() {
        const pseudo = localStorage.getItem('pseudo');

        document.getElementById('addTraining').setAttribute('value', pseudo)
    }


// Ouvre une popup sur la page d'entrainement    

    const modal1 = document.getElementById("myModal");
    const btn = document.getElementById("myBtn");
    const span = document.getElementsByClassName("training_close")[0];

    btn.onclick = function() {
  
      modal1.style.display = "block";
    }

    span.onclick = function() {
      modal1.style.display = "none";
    }

    window.onclick = function(event) {
      if (event.target == modal1 || event.target == modal2 || event.target == modal3) {
        modal1.style.display = "none";
        modal2.style.display = "none";
        modal3.style.display = "none";
      }
    } 
  

  // Ouvre une popup sur la page pour voir tt les entrainements possibles    

    const modal2 = document.getElementById("mySecondModal");
    const button = document.getElementById("See_exercice");
    const Close = document.getElementsByClassName("training_close")[1];

    button.onclick = function() {
      modal2.style.display = "block";
    }

    Close.onclick = function() {
      modal2.style.display = "none";
    }
  

// Ouvre une popup pour voir le degrès d'intensité

    const modal3 = document.getElementById("myThirdModal");
    const Button = document.getElementById("See_intensity");
    const close = document.getElementsByClassName("training_close")[2];

    Button.onclick = function() {
  
      modal3.style.display = "block";
    }

    close.onclick = function() {
      modal3.style.display = "none";
    }

  // Gère la création d'exercice 
      const addExercice = document.querySelector(".addExercice") 
      exercice = [document.querySelector(".content_exercice"),document.querySelector(".content_exercice2"),document.querySelector(".content_exercice3"),document.querySelector(".content_exercice4"),document.querySelector(".content_exercice5")];
      deleteEx = [document.getElementById("deleteEx2"),document.getElementById("deleteEx3"),document.getElementById("deleteEx4"),document.getElementById("deleteEx5")]
      i = 0
      
      addExercice.addEventListener("click", () => {
        if (i == 0){
          exercice[1].style.display = "block"
        };
        if (i == 1){
          exercice[2].style.display = "block"
        }
        if (i == 2){
          exercice[3].style.display = "block"
        }
        if (i == 3){
          exercice[4].style.display = "block"
        }
        i = i + 1
      })

      deleteEx[0].addEventListener("click", () => {
        if (i == 1){
          exercice[1].style.display = "none"
        };
        if (i == 2){
          exercice[2].style.display = "none"
        }
        if (i == 3){
          exercice[3].style.display = "none"
        }
        if (i == 4){
          exercice[4].style.display = "none"
        }
        i = i - 1
      });

      deleteEx[1].addEventListener("click", () => {
        if (i == 1){
          exercice[1].style.display = "none"
        };
        if (i == 2){
          exercice[2].style.display = "none"
        }
        if (i == 3){
          exercice[3].style.display = "none"
        }
        if (i == 4){
          exercice[4].style.display = "none"
        }
        i = i - 1
      });

      deleteEx[2].addEventListener("click", () => {
        if (i == 1){
          exercice[1].style.display = "none"
        };
        if (i == 2){
          exercice[2].style.display = "none"
        };
        if (i == 3){
          exercice[3].style.display = "none"
        };
        if (i == 4){
          exercice[4].style.display = "none"
        };
        i = i - 1
      });

      deleteEx[3].addEventListener("click", () => {
        if (i == 1){
          exercice[1].style.display = "none"
        };
        if (i == 2){
          exercice[2].style.display = "none"
        };
        if (i == 3){
          exercice[3].style.display = "none"
        };
        if (i == 4){
          exercice[4].style.display = "none"
        };
        i = i - 1
      })

   


  // Fin de la gestion de création d'exercice

  // Gère la sélection du choix de l'exercice
  
    let selected = document.querySelector(".selected");
    let optionsContainer = document.querySelector(".options-container");
    let searchBox = document.querySelector(".search-box input");
    let optionsList = document.querySelectorAll(".option");

    selected.addEventListener("click", () => {
    optionsContainer.classList.toggle("active");
    searchBox.value = "";
    ilterList("");

    if (optionsContainer.classList.contains("active")) {
      searchBox.focus();
      }
    });


    optionsList.forEach(o => {
      o.addEventListener("click", () => {
        selected.innerHTML = o.querySelector("label").innerHTML;
        optionsContainer.classList.remove("active");
        document.getElementById('exerciceChoice').value = selected.innerHTML
      });
    });

    searchBox.addEventListener("keyup", function(e) {
      filterList(e.target.value);
    });

    const filterList = searchTerm => {
      searchTerm = searchTerm.toLowerCase();
      optionsList.forEach(option => {
        let label = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
        if (label.indexOf(searchTerm) != -1) {
          option.style.display = "block";
        } else {
          option.style.display = "none";
        }
      });
    };



    let selected2 = document.querySelector(".selected2");
    let optionsContainer2 = document.querySelector(".options-container2");
    let searchBox2 = document.querySelector(".search-box2 input");
    let optionsList2 = document.querySelectorAll(".option2");

    selected2.addEventListener("click", () => {
    optionsContainer2.classList.toggle("active");
    searchBox2.value = "";
    ilterList2("");

    if (optionsContainer2.classList.contains("active")) {
      searchBox2.focus();
      }
    });


    optionsList2.forEach(o => {
      o.addEventListener("click", () => {
        selected2.innerHTML = o.querySelector("label").innerHTML;
        optionsContainer2.classList.remove("active");
        document.getElementById('exerciceChoice2').value = selected2.innerHTML
      });
    });

    searchBox2.addEventListener("keyup", function(e) {
      filterList2(e.target.value);
    });

    const filterList2 = searchTerm => {
      searchTerm = searchTerm.toLowerCase();
      optionsList2.forEach(option => {
        let label2 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
        if (label2.indexOf(searchTerm) != -1) {
          option.style.display = "block";
        } else {
          option.style.display = "none";
        }
      });
    };


    let selected3 = document.querySelector(".selected3");
    let optionsContainer3 = document.querySelector(".options-container3");
    let searchBox3 = document.querySelector(".search-box3 input");
    let optionsList3 = document.querySelectorAll(".option3");

    selected3.addEventListener("click", () => {
    optionsContainer3.classList.toggle("active");
    searchBox3.value = "";
    ilterList3("");

    if (optionsContainer3.classList.contains("active")) {
      searchBox3.focus();
      }
    });


    optionsList3.forEach(o => {
      o.addEventListener("click", () => {
        selected3.innerHTML = o.querySelector("label").innerHTML;
        optionsContainer3.classList.remove("active");
        document.getElementById('exerciceChoice3').value = selected3.innerHTML
      });
    });

    searchBox3.addEventListener("keyup", function(e) {
      filterList3(e.target.value);
    });

    const filterList3 = searchTerm => {
      searchTerm = searchTerm.toLowerCase();
      optionsList3.forEach(option => {
        let label3 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
        if (label3.indexOf(searchTerm) != -1) {
          option.style.display = "block";
        } else {
          option.style.display = "none";
        }
      });
    };


    let selected4 = document.querySelector(".selected4");
    let optionsContainer4 = document.querySelector(".options-container4");
    let searchBox4 = document.querySelector(".search-box4 input");
    let optionsList4 = document.querySelectorAll(".option4");

    selected4.addEventListener("click", () => {
    optionsContainer4.classList.toggle("active");
    searchBox4.value = "";
    ilterList4("");

    if (optionsContainer4.classList.contains("active")) {
      searchBox4.focus();
      }
    });


    optionsList4.forEach(o => {
      o.addEventListener("click", () => {
        selected4.innerHTML = o.querySelector("label").innerHTML;
        optionsContainer4.classList.remove("active");
        document.getElementById('exerciceChoice4').value = selected4.innerHTML
      });
    });

    searchBox4.addEventListener("keyup", function(e) {
      filterList4(e.target.value);
    });

    const filterList4 = searchTerm => {
      searchTerm = searchTerm.toLowerCase();
      optionsList4.forEach(option => {
        let label4 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
        if (label4.indexOf(searchTerm) != -1) {
          option.style.display = "block";
        } else {
          option.style.display = "none";
        }
      });
    };


    let selected5 = document.querySelector(".selected5");
    let optionsContainer5 = document.querySelector(".options-container5");
    let searchBox5 = document.querySelector(".search-box5 input");
    let optionsList5 = document.querySelectorAll(".option5");

    selected5.addEventListener("click", () => {
    optionsContainer5.classList.toggle("active");
    searchBox5.value = "";
    ilterList5("");

    if (optionsContainer5.classList.contains("active")) {
      searchBox5.focus();
      }
    });


    optionsList5.forEach(o => {
      o.addEventListener("click", () => {
        selected5.innerHTML = o.querySelector("label").innerHTML;
        optionsContainer5.classList.remove("active");
        document.getElementById('exerciceChoice5').value = selected5.innerHTML
      });
    });

    searchBox5.addEventListener("keyup", function(e) {
      filterList5(e.target.value);
    });

    const filterList5 = searchTerm => {
      searchTerm = searchTerm.toLowerCase();
      optionsList5.forEach(option => {
        let label5 = option.firstElementChild.nextElementSibling.innerText.toLowerCase();
        if (label5.indexOf(searchTerm) != -1) {
          option.style.display = "block";
        } else {
          option.style.display = "none";
        }
      });
    };



  // Fin de la gestion de menu de l'exercice 


</script>
</html>
